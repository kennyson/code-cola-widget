<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>degree control</title>
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
</head>
<body>
<div id="wrap"></div>
<img id="test" src="http://farm2.static.flickr.com/1373/5099610992_3b4c528a58.jpg" width="500" style="margin-top:20px;-moz-box-shadow:10px 0 20px #000;-webkit-box-shadow:10px 0 20px #000;box-shadow:10px 0 20px #000;">
<script src="http://yui.yahooapis.com/3.3.0/build/yui/yui-min.js" charset="utf-8"></script>
<script>
    YUI({
        modules:{
            'codecola-degree-css':{
                fullpath: 'codecola-degree.css',
                type: 'css'
            },
            'codecola-degree': {
                fullpath: 'codecola-degree.js',
                requires: ['node', 'widget', 'widget-stack', 'codecola-degree-css']
            }
        }
    }).use('codecola-degree', function(Y) {
        var degree = new Y.codecolaDegree({
            'wrap': '#wrap',
            'degree' : 170,
            'afterChange' : function(degree) {
                var x = Math.round(10*Math.cos(-degree*0.017453293)),
                    y = Math.round(10*Math.sin(-degree*0.017453293)),
                    shadow = x + "px " + y + "px 20px #000";

                Y.one('#test').setStyles({
                    "MozBoxShadow": shadow,
                    "webkitBoxShadow": shadow,
                    "boxshadow": shadow,

                });
            }
        });
        degree.render();
    });
</script>
</body>
</html>